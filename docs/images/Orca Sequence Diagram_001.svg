<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="744px" preserveAspectRatio="none" style="width:1142px;height:744px;background:#FFFFFF;" version="1.1" viewBox="0 0 1142 744" width="1142px" zoomAndPan="magnify"><title>System-Level Sequence Diagram</title><defs/><g><rect fill="#E6E6FA" height="599.5859" style="stroke:#181818;stroke-width:0.5;" width="511.5923" x="16" y="138.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="175.189" x="184.2017" y="150.8481">Local Care Organization</text><rect fill="#E6E6FA" height="599.5859" style="stroke:#181818;stroke-width:0.5;" width="321.7031" x="812.7612" y="138.7813"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="193.375" x="876.9253" y="150.8481">Remote Care Organization</text><rect fill="none" height="96.5313" style="stroke:#000000;stroke-width:1.5;" width="815.4644" x="107" y="311.4766"/><rect fill="none" height="190.9297" style="stroke:#000000;stroke-width:1.5;" width="673.9614" x="248.5029" y="422.0078"/><g><title>Care Professional</title><rect fill="#000000" fill-opacity="0.00000" height="424.8594" width="8" x="79.9321" y="234.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="83" x2="83" y1="234.2109" y2="659.0703"/></g><g><title>XIS</title><rect fill="#000000" fill-opacity="0.00000" height="424.8594" width="8" x="272.8062" y="234.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="276.5029" x2="276.5029" y1="234.2109" y2="659.0703"/></g><g><title>Orca</title><rect fill="#000000" fill-opacity="0.00000" height="424.8594" width="8" x="496.0664" y="234.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="499.5405" x2="499.5405" y1="234.2109" y2="659.0703"/></g><g><title>Care Plan Service</title><rect fill="#000000" fill-opacity="0.00000" height="424.8594" width="8" x="734.1865" y="234.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="737.6118" x2="737.6118" y1="234.2109" y2="659.0703"/></g><g><title>Remote XIS</title><rect fill="#000000" fill-opacity="0.00000" height="424.8594" width="8" x="860.6128" y="234.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="863.7612" x2="863.7612" y1="234.2109" y2="659.0703"/></g><g><title>Care Professional</title><rect fill="#000000" fill-opacity="0.00000" height="424.8594" width="8" x="1062.5322" y="234.2109"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1065.6001" x2="1065.6001" y1="234.2109" y2="659.0703"/></g><g class="participant participant-head" data-participant="LocalCP"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.8643" x="20" y="230.9092">Care Professional</text><ellipse cx="83.9321" cy="166.4141" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M83.9321,174.4141 L83.9321,201.4141 M70.9321,182.4141 L96.9321,182.4141 M83.9321,201.4141 L70.9321,216.4141 M83.9321,201.4141 L96.9321,216.4141" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="LocalCP"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.8643" x="20" y="671.0654">Care Professional</text><ellipse cx="83.9321" cy="682.8672" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M83.9321,690.8672 L83.9321,717.8672 M70.9321,698.8672 L96.9321,698.8672 M83.9321,717.8672 L70.9321,732.8672 M83.9321,717.8672 L96.9321,732.8672" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="LocalXIS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36.6064" x="258.5029" y="202.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.6064" x="265.5029" y="222.9092">XIS</text></g><g class="participant participant-tail" data-participant="LocalXIS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="36.6064" x="258.5029" y="658.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="22.6064" x="265.5029" y="678.0654">XIS</text></g><g class="participant participant-head" data-participant="LocalOrca"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="47.0518" x="476.5405" y="202.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.0518" x="483.5405" y="222.9092">Orca</text></g><g class="participant participant-tail" data-participant="LocalOrca"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="47.0518" x="476.5405" y="658.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="33.0518" x="483.5405" y="678.0654">Orca</text></g><g class="participant participant-head" data-participant="CPS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137.1494" x="669.6118" y="202.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.1494" x="676.6118" y="222.9092">Care Plan Service</text></g><g class="participant participant-tail" data-participant="CPS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="137.1494" x="669.6118" y="658.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="123.1494" x="676.6118" y="678.0654">Care Plan Service</text></g><g class="participant participant-head" data-participant="RemoteXIS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="816.7612" y="202.9141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="823.7612" y="222.9092">Remote XIS</text></g><g class="participant participant-tail" data-participant="RemoteXIS"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="95.7031" x="816.7612" y="658.0703"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="81.7031" x="823.7612" y="678.0654">Remote XIS</text></g><g class="participant participant-head" data-participant="RemoteCP"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.8643" x="1002.6001" y="230.9092">Care Professional</text><ellipse cx="1066.5322" cy="166.4141" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1066.5322,174.4141 L1066.5322,201.4141 M1053.5322,182.4141 L1079.5322,182.4141 M1066.5322,201.4141 L1053.5322,216.4141 M1066.5322,201.4141 L1079.5322,216.4141" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="RemoteCP"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.8643" x="1002.6001" y="671.0654">Care Professional</text><ellipse cx="1066.5322" cy="682.8672" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M1066.5322,690.8672 L1066.5322,717.8672 M1053.5322,698.8672 L1079.5322,698.8672 M1066.5322,717.8672 L1053.5322,732.8672 M1066.5322,717.8672 L1079.5322,732.8672" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:2,2;" x1="0" x2="1135.4644" y1="245.2109" y2="245.2109"/><g class="message" data-participant-1="RemoteCP" data-participant-2="RemoteXIS"><polygon fill="#181818" points="875.6128,263.3438,865.6128,267.3438,875.6128,271.3438,871.6128,267.3438" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="869.6128" x2="1065.5322" y1="267.3438" y2="267.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="881.6128" y="262.2778">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82.5195" x="903.7036" y="262.2778">Show details</text></g><g class="message" data-participant-1="RemoteXIS" data-participant-2="RemoteCP"><polygon fill="#181818" points="1054.5322,292.4766,1064.5322,296.4766,1054.5322,300.4766,1058.5322,296.4766" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="864.6128" x2="1060.5322" y1="296.4766" y2="296.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="871.6128" y="291.4106">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155.8286" x="893.7036" y="291.4106">Redirect/Popup browser</text></g><path d="M107,311.4766 L406.0903,311.4766 L406.0903,318.6094 L396.0903,328.6094 L107,328.6094 L107,311.4766" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="96.5313" style="stroke:#000000;stroke-width:1.5;" width="815.4644" x="107" y="311.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="254.0903" x="122" y="324.5435">OAuth2 authentication at local XIS</text><g class="message" data-participant-1="RemoteXIS" data-participant-2="LocalOrca"><polygon fill="#181818" points="511.0664,363.875,501.0664,367.875,511.0664,371.875,507.0664,367.875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.0664" x2="863.6128" y1="367.875" y2="367.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="517.0664" y="355.2427">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146.0469" x="539.1572" y="347.6763">Request Access Token</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="50.3623" x="543.2896" y="362.8091">for user</text></g><path d="M117,333.6094 L117,373.6094 L495,373.6094 L495,343.6094 L485,333.6094 L117,333.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M485,333.6094 L485,343.6094 L495,343.6094 L485,333.6094" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="354.9419" x="123" y="350.6763">This involves the user presenting a Care Organization-</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="357.0493" x="123" y="365.8091">credential and a personal Care Professional credential.</text><g class="message" data-participant-1="LocalOrca" data-participant-2="RemoteXIS"><polygon fill="#181818" points="852.6128,396.0078,862.6128,400.0078,852.6128,404.0078,856.6128,400.0078" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="500.0664" x2="858.6128" y1="400.0078" y2="400.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="507.0664" y="394.9419">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.5244" x="529.1572" y="394.9419">Access Token</text></g><path d="M248.5029,422.0078 L399.0073,422.0078 L399.0073,429.1406 L389.0073,439.1406 L248.5029,439.1406 L248.5029,422.0078" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="190.9297" style="stroke:#000000;stroke-width:1.5;" width="673.9614" x="248.5029" y="422.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="105.5044" x="263.5029" y="435.0747">Data Retrieval</text><g class="message" data-participant-1="RemoteXIS" data-participant-2="LocalOrca"><polygon fill="#181818" points="511.0664,456.2734,501.0664,460.2734,511.0664,464.2734,507.0664,460.2734" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="505.0664" x2="863.6128" y1="460.2734" y2="460.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="517.0664" y="455.2075">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.2686" x="539.1572" y="455.2075">Get resources (FHIR)</text></g><g class="message" data-participant-1="LocalOrca" data-participant-2="LocalOrca"><line style="stroke:#181818;stroke-width:1;" x1="500.0664" x2="542.0664" y1="504.5391" y2="504.5391"/><line style="stroke:#181818;stroke-width:1;" x1="542.0664" x2="542.0664" y1="504.5391" y2="517.5391"/><line style="stroke:#181818;stroke-width:1;" x1="501.0664" x2="542.0664" y1="517.5391" y2="517.5391"/><polygon fill="#181818" points="511.0664,513.5391,501.0664,517.5391,511.0664,521.5391,507.0664,517.5391" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="507.0664" y="491.9067">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="110.1382" x="529.1572" y="484.3403">Authorize access</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109.1162" x="529.1572" y="499.4731">(evaluate policy)</text></g><g class="message" data-participant-1="LocalOrca" data-participant-2="LocalXIS"><polygon fill="#181818" points="287.8062,542.6719,277.8062,546.6719,287.8062,550.6719,283.8062,546.6719" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="281.8062" x2="499.0664" y1="546.6719" y2="546.6719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="293.8062" y="541.606">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135.2686" x="315.897" y="541.606">Get resources (FHIR)</text></g><g class="message" data-participant-1="LocalXIS" data-participant-2="LocalOrca"><polygon fill="#181818" points="488.0664,571.8047,498.0664,575.8047,488.0664,579.8047,492.0664,575.8047" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="276.8062" x2="494.0664" y1="575.8047" y2="575.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="283.8062" y="570.7388">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.2598" x="305.897" y="570.7388">Resources</text></g><g class="message" data-participant-1="LocalOrca" data-participant-2="RemoteXIS"><polygon fill="#181818" points="852.6128,600.9375,862.6128,604.9375,852.6128,608.9375,856.6128,604.9375" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="500.0664" x2="858.6128" y1="604.9375" y2="604.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="507.0664" y="599.8716">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67.2598" x="529.1572" y="599.8716">Resources</text></g><g class="message" data-participant-1="RemoteXIS" data-participant-2="RemoteCP"><polygon fill="#181818" points="1054.5322,637.0703,1064.5322,641.0703,1054.5322,645.0703,1058.5322,641.0703" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="864.6128" x2="1060.5322" y1="641.0703" y2="641.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18.0908" x="871.6128" y="636.0044">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.8877" x="893.7036" y="636.0044">Display results</text></g><rect fill="none" height="107.7813" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1;" width="801.9229" x="166.2708" y="17"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191.9189" x="171.2708" y="34.9951">(25-04-2024 v1) Describes:</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="597.6523" x="171.2708" y="51.292">- A care professional using local XIS to access FHIR APIs at one or more remote XIS's.</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="791.9229" x="171.2708" y="67.5889">- A care professional from another care organization, using a remote XIS to access the FHIR APIs at the local XIS.</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4.4502" x="171.2708" y="83.8857">&#160;</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="646.7412" x="171.2708" y="100.1826">The local XIS uses Orca to offload localisation, authentication and data retrieval (or writing).</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="515.751" x="171.2708" y="116.4795">Low-level browser/OAuth2 interactions are not omitted for brevity/clarity.</text><!--SRC=[hLPDRnf94BtFhoYHGq0A9h6I2uUDiBtPjSJA23ZimPUcfu2MPxfdktiWvDTlLSytU4oaX8izC_NnwjMhwdw_zpvpqyaaIuJsUPhSI9DE7FwNevOuZfNOMP568lT6v-a6RUHUbCu4lOG4TwZZEo5VTjRaEhutYR6WZSOeyied2AkJyvYEvtZ015PbK7WeWnR-u4qM0S3mziluu-VnxSVRpt3uD887TDAg3RefVnt33AIm29arMtHE6IqIo9tIEqYCfF__VLnHA11IqcVuzlVZ4cQBHmV20o42GfOQyhUO6ezi_TxTz4VUMfE2qCRlqHQVZTq9hNu8JmOVoioY5QwLd9ow0FX5ZV8cuhJhzYiAXmwUh1GSnMotYH5nyLcvCYErO8_QAncU2LiCiV2Cm5k51meqf1gFLdb2DWgbpSrnd0JkDzOS7Th9quoYt8BI7gsG78ZmKN5KA9XKUOynR2dCnk91-TD49e82dcuYRbJHhoZQcEymc0Viz-pyr69c0E_cua1cf1H2G8nu2XUCxnSW70o2owB5zI0OagIeDfMH2WjpfeNjwM-FHU2BJVYVGO18qAAstVrYrKfA4YSLseEIE2ZBM1Rzkrf7EsZXK-5RrWeOj2ektlQNN86DAch6VpHbJs6rDqU8qGkLk8YdAuDPbi5Sv5hkGvhQk78CR4pXhkXqo_nP3qbUzWFLu1Kf2AIXzd_ten17C_W4jpuyyQ_n1EM0EJ1sGfd6BaEfjahUrAP_PaeIs7zcopKDMT3yr_2Ho-F8Pr0hh5Jlb2YAbKNf9mkJKNsbH0CpeUAeBFo1LJvlpK8JDDJSPUwR8d-g3gskzCbzVzOMjsXv_xYWy8gC8OCUzU0iEMtKiwo3X24kW48vLUSJ6kHNSzK1pBfa1cWZEW-pOcsipGiIq02FErQxNlO8mWQXzYXzCCa1Yvt3JhJ6q36Ai9ukT3tkX90MOxObfdYV2CZGEjCGrzw8ZMtJ_qwR-STrdRFNhguMHzbXVaoCoO3EZeIq4F8oqou0ugSrYjIznU9VsBXDAezsN_k0NJZLw1XIZn2NrRfji3SR08QVgeEcINr58urtfpMTGfkDy_EYwHVERnBFxn3GgoBYNrFnLJbr9NMLFvOBLMboowlWJ2RzQPULIrSaFRkeKbYfQigN9zuzQpfuJN4rkACBKu9H4wZPyckqgTAlhhfN5oXiw0h65mV2_Qn91p8n3kk5MeVWKwQpB9i3mAhTldi2j42yUGpqRFfpyiBGu4NfHSzw3eW7vUXMUghOYoADnqpiCAeFrxFMTaxDRYjhbzvp9xeof_LbBJeJodcfryVpSYn_SHn_PGml6rXBhSrjP-n-PZNsCjGxWBrZn2qnLlt0ye9DDnfEamkYCJE9agVHctU2jpDUd_P-LXgxXf9UuPtf-Ny0]--></g></svg>